{% extends "relay-list.html" %}
{% from "macros.html" import navigation, detail_summary %}
{% set contact_hash = relays.json['relay_subset'][0]['contact_md5'] %}
{% if relays.json['relay_subset'][0]['contact'] %}
    {% set contact = relays.json['relay_subset'][0]['contact']|escape %}
{% else %}
    {% set contact = 'none' %}
{% endif %}
{% block title %}Tor Relays :: Contact {{ contact_hash }}{% endblock %}
{% block header %}
    {% if relays.json['relay_subset'][0]['aroi_domain'] and relays.json['relay_subset'][0]['aroi_domain'] != 'none' -%}
        View Contact {{ relays.json['relay_subset'][0]['aroi_domain']|escape }} Details
    {% elif contact != 'none' -%}
        View Contact {{ contact }} Details
    {% else -%}
        View Contact {{ contact_hash }} Details
    {% endif -%}
{% endblock %}
{% block navigation -%}
{% set aroi_domain = relays.json['relay_subset'][0]['aroi_domain'] if relays.json['relay_subset'][0]['aroi_domain'] else 'none' %}
{{ navigation('contacts', page_ctx) }}
{% endblock -%}
{% block description %}{% if relays.json['sorted']['contact'][value]['aroi_domain'] and relays.json['sorted']['contact'][value]['aroi_domain'] != 'none' -%}AROI {{ relays.json['sorted']['contact'][value]['aroi_domain'] }}{% else -%}ContactInfo {{ relays.json['sorted']['contact'][value]['contact'] }}{% endif %} summary:
{{ detail_summary(bandwidth, bandwidth_unit, guard_bandwidth, middle_bandwidth, exit_bandwidth, consensus_weight_fraction, guard_consensus_weight_fraction, middle_consensus_weight_fraction, exit_consensus_weight_fraction, guard_count, middle_count, exit_count, relays.json['relay_subset']|length) }}{% endblock %}
