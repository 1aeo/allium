{% from "macros.html" import navigation %}
{% extends "skeleton.html" -%}
{% block title -%}
    üèÜ Tor Network AROI Champions Dashboard
{% endblock -%}
{% block body -%}

<div style="text-align: center;" class="aroi-subsection">
    <h1>üèÜ Tor Network AROI Champions Dashboard</h1>
    <p class="lead"><strong>Live AROI Operator Leaderboards - Current Performance Rankings</strong></p>
</div>

{{ navigation('aroi', page_ctx) }}

<!-- Quick Navigation -->
<nav class="well" style="margin-bottom: 20px;">
    <h4>üìç Quick Navigation</h4>
    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
        <a href="#champions" class="btn btn-sm btn-primary">üèÖ Champions</a>
        <a href="#podium" class="btn btn-sm btn-info">ü•á Top 3</a>
        <a href="#rankings" class="btn btn-sm btn-default">üìä Full Rankings</a>
        <a href="#bandwidth" class="btn btn-sm btn-link">üöÄ Bandwidth</a>
        <a href="#consensus_weight" class="btn btn-sm btn-link">‚öñÔ∏è Consensus</a>
        <a href="#exit_operators" class="btn btn-sm btn-link">üö™ Exits</a>
        <a href="#guard_operators" class="btn btn-sm btn-link">üõ°Ô∏è Guards</a>
        <a href="#most_diverse" class="btn btn-sm btn-link">üåà Diverse</a>
        <a href="#platform_diversity" class="btn btn-sm btn-link">üíª Platform</a>
        <a href="#bsd_operators" class="btn btn-sm btn-link">üîß Technical</a>
        <a href="#non_eu_leaders" class="btn btn-sm btn-link">üåç Geographic</a>
        <a href="#frontier_builders" class="btn btn-sm btn-link">üè¥‚Äç‚ò†Ô∏è Frontier</a>
        <a href="#network_veterans" class="btn btn-sm btn-link">üèÜ Veterans</a>
        <a href="#efficiency_champions" class="btn btn-sm btn-link">‚ö° Efficiency</a>
    </div>
</nav>

<!-- Summary Stats -->
<div class="alert alert-info">
    <h4>üåü Current Network Overview</h4>
    <div class="row">
        <div class="col-md-3">
            <strong>Total AROI Operators:</strong><br>{{ relays.json.aroi_leaderboards.summary.total_operators }}
        </div>
        <div class="col-md-3">
            <strong>Combined Bandwidth:</strong><br>{{ relays.json.aroi_leaderboards.summary.total_bandwidth_formatted }}
        </div>
        <div class="col-md-3">
            <strong>Network Consensus Weight:</strong><br>{{ relays.json.aroi_leaderboards.summary.total_consensus_weight_pct }}
        </div>
        <div class="col-md-3">
            <strong>Live Categories:</strong><br>11 competitive leaderboards
        </div>
    </div>
    <div style="margin-top: 10px;">
        <small class="text-muted">Last updated: {{ relays.json.aroi_leaderboards.summary.update_timestamp }}. Data refreshed every 30 minutes from the Tor directory authorities via <a href="https://onionoo.torproject.org/">Onionoo API</a>.</small>
    </div>
</div>

<!-- ===================================================================== -->
<!-- CURRENT WORLD LEADERS (Elite Champion Badges) -->
<!-- ===================================================================== -->
<section id="champions" class="aroi-section">
    <h2>üèÖ Current World Leaders</h2>
    <p class="lead">Elite Champion Badges - Top performers across key categories</p>
    
    <div class="row">
        <!-- Champion Badge 1: Platinum Bandwidth -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-warning">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #FFD700, #FFA500); color: #000;">
                    <h3 style="margin-top: 0;">ü•á Platinum Bandwidth</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.bandwidth %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.bandwidth[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.total_bandwidth }} {{ champion.bandwidth_unit }}</p>
                        <small>{{ champion.total_relays }} relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 2: Network Authority -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-warning">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #f7b731, #fc4a1a); color: #fff;">
                    <h3 style="margin-top: 0;">üèõÔ∏è Network Authority</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.consensus_weight %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.consensus_weight[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.total_consensus_weight_pct }} authority</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 3: Exit Gate Keeper -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-danger">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #FF6B6B, #FF8E53); color: #fff;">
                    <h3 style="margin-top: 0;">üö™ Exit Gate Keeper</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.exit_operators %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.exit_operators[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.exit_count }} exit relays</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 4: Guard Champion -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-info">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #4ECDC4, #44A08D); color: #fff;">
                    <h3 style="margin-top: 0;">üõ°Ô∏è Guard Champion</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.guard_operators %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.guard_operators[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.guard_count }} guard relays</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 5: Globe Trotter -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-success">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #A8E6CF, #56AB2F); color: #000;">
                    <h3 style="margin-top: 0;">üåç Globe Trotter</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.most_diverse %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.most_diverse[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p><span title="Diversity Score: Geographic (countries √ó 2.0) + Platform (OS types √ó 1.5) + Network (unique ASNs √ó 1.0)">{{ champion.diversity_score }} diversity</span></p>
                        <small>{{ champion.country_count }} countries</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 6: Platform Diversity Hero -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-info">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #74b9ff, #0984e3); color: #fff;">
                    <h3 style="margin-top: 0;">üíª Platform Diversity Hero</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.platform_diversity %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.platform_diversity[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.non_linux_count }} non-Linux relays</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 7: BSD Master -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-default">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #667eea, #764ba2); color: #fff;">
                    <h3 style="margin-top: 0;">üîß BSD Master</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.bsd_operators %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.bsd_operators[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.bsd_count }} BSD relays</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 8: Global Expansion Leader -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-success">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #00b894, #00a085); color: #fff;">
                    <h3 style="margin-top: 0;">üåè Global Expansion Leader</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.non_eu_leaders %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.non_eu_leaders[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.non_eu_count }} non-EU relays</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 9: Frontier Pioneer -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-default">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #ffecd2, #fcb69f); color: #000;">
                    <h3 style="margin-top: 0;">üè¥‚Äç‚ò†Ô∏è Frontier Pioneer</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.frontier_builders %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.frontier_builders[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.rare_country_count }} rare countries</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 10: Reliability Master -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-default">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #a8edea, #fed6e3); color: #000;">
                    <h3 style="margin-top: 0;">üíé Reliability Master</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.network_veterans %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.network_veterans[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p>{{ champion.uptime_percentage }}</p>
                        <small>{{ champion.total_relays }} total relays</small>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Champion Badge 11: Efficiency Expert -->
        <div class="col-md-3 col-sm-6 aroi-champion-badge">
            <div class="panel panel-primary">
                <div class="panel-body text-center" style="background: linear-gradient(45deg, #f093fb, #f5576c); color: #fff;">
                    <h3 style="margin-top: 0;">‚ö° Efficiency Expert</h3>
                    {% if relays.json.aroi_leaderboards.leaderboards.efficiency_champions %}
                        {% set champion = relays.json.aroi_leaderboards.leaderboards.efficiency_champions[0] %}
                        <h4><strong><a href="{{ page_ctx.path_prefix }}contact/{{ champion.contact_hash }}/" title="Contact: {{ champion.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ champion.aroi_domain if champion.aroi_domain and champion.aroi_domain != 'none' else champion.operator_key }}</a></strong></h4>
                        <p><span title="Efficiency Ratio: (Consensus Weight % √ó 100) √∑ Bandwidth GB/s - measures network authority per bandwidth contributed">{{ champion.efficiency_ratio }}</span></p>
                        <small>{{ champion.total_consensus_weight_pct }} authority</small>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ===================================================================== -->
<!-- TOP 3 SUMMARY (Elite Tier Champions) -->
<!-- ===================================================================== -->
<section id="podium" class="aroi-section">
    <h2>ü•á Top 3 Summary</h2>
    <p class="lead">Elite Tier Champions - Podium winners across all 11 leaderboard categories</p>
    
    <!-- Bandwidth Titans -->
    <div class="aroi-subsection">
        <h4>üí™ Bandwidth Titans</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.bandwidth %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.bandwidth[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Bandwidth King
                            {% elif entry.rank == 2 %}Bandwidth Warrior
                            {% elif entry.rank == 3 %}Bandwidth Hero
                            {% endif %}
                        </td>
                        <td>{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }} across {{ entry.total_relays }} relays</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Network Authority Elite -->
    <div class="aroi-subsection">
        <h4>üèõÔ∏è Network Authority Elite</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.consensus_weight %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.consensus_weight[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Authority Supreme
                            {% elif entry.rank == 2 %}Authority Commander
                            {% elif entry.rank == 3 %}Authority Captain
                            {% endif %}
                        </td>
                        <td>{{ entry.total_consensus_weight_pct }} network authority</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Exit Specialists -->
    <div class="aroi-subsection">
        <h4>üö™ Exit Specialists</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.exit_operators %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.exit_operators[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Exit Master
                            {% elif entry.rank == 2 %}Exit Champion
                            {% elif entry.rank == 3 %}Exit Hero
                            {% endif %}
                        </td>
                        <td>{{ entry.exit_count }} active exit relays</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Guard Experts -->
    <div class="aroi-subsection">
        <h4>üõ°Ô∏è Guard Experts</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.guard_operators %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.guard_operators[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Guard Commander
                            {% elif entry.rank == 2 %}Guard Captain
                            {% elif entry.rank == 3 %}Guard Leader
                            {% endif %}
                        </td>
                        <td>{{ entry.guard_count }} active guard relays</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Diversity Champions -->
    <div class="aroi-subsection">
        <h4>üåç Diversity Champions</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.most_diverse %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.most_diverse[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}World Explorer
                            {% elif entry.rank == 2 %}Platform Pioneer
                            {% elif entry.rank == 3 %}Regional Builder
                            {% endif %}
                        </td>
                        <td>{{ entry.country_count }} countries, <span title="Diversity Score: Geographic (countries √ó 2.0) + Platform (OS types √ó 1.5) + Network (unique ASNs √ó 1.0)">{{ entry.diversity_score }} diversity</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Platform Diversity Heros -->
    <div class="aroi-subsection">
        <h4>üíª Platform Diversity Heros</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.platform_diversity %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.platform_diversity[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Multi-BSD Master
                            {% elif entry.rank == 2 %}Windows Champion
                            {% elif entry.rank == 3 %}FreeBSD Leader
                            {% endif %}
                        </td>
                        <td>{{ entry.non_linux_count }} non-Linux relays, {{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Technical BSD Leaders -->
    <div class="aroi-subsection">
        <h4>üîß Technical BSD Leaders</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.bsd_operators %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.bsd_operators[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}BSD Performance King
                            {% elif entry.rank == 2 %}Security Hardening Hero
                            {% elif entry.rank == 3 %}Security Champion
                            {% endif %}
                        </td>
                        <td>{{ entry.bsd_count }} BSD relays, {{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Global Expansion Leaders -->
    <div class="aroi-subsection">
        <h4>üåè Global Expansion Leaders</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.non_eu_leaders %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.non_eu_leaders[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Asia-Pacific King
                            {% elif entry.rank == 2 %}Oceania Champion
                            {% elif entry.rank == 3 %}North America Hero
                            {% endif %}
                        </td>
                        <td>{{ entry.primary_country }}, {{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Frontier Pioneers -->
    <div class="aroi-subsection">
        <h4>üè¥‚Äç‚ò†Ô∏è Frontier Pioneers</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.frontier_builders %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.frontier_builders[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Ultimate Pioneer
                            {% elif entry.rank == 2 %}African Trailblazer
                            {% elif entry.rank == 3 %}South American Explorer
                            {% endif %}
                        </td>
                        <td>{{ entry.rare_country }} exclusive, {{ entry.rarity_score }} rarity</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Reliability Masters -->
    <div class="aroi-subsection">
        <h4>üíé Reliability Masters</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.network_veterans %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.network_veterans[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Uptime King
                            {% elif entry.rank == 2 %}Stability Champion
                            {% elif entry.rank == 3 %}Consistency Hero
                            {% endif %}
                        </td>
                        <td>{{ entry.uptime_percentage }} current uptime, {{ entry.total_relays }} relays</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>

    <!-- Efficiency Experts -->
    <div class="aroi-subsection">
        <h4>‚ö° Efficiency Experts</h4>
        {% if relays.json.aroi_leaderboards.leaderboards.efficiency_champions %}
        <div class="table-responsive">
            <table class="table table-striped aroi-top3-table">
                <thead>
                    <tr>
                        <th>Operator</th>
                        <th>Achievement</th>
                        <th>Performance</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.efficiency_champions[:3] %}
                    <tr>
                        <td>
                            <strong>
                                {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% elif entry.rank == 3 %}ü•â{% endif %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline; color: inherit;">{{ entry.aroi_domain if entry.aroi_domain and entry.aroi_domain != 'none' else entry.operator_key }}</a>
                            </strong>
                        </td>
                        <td>
                            {% if entry.rank == 1 %}Efficiency King
                            {% elif entry.rank == 2 %}Optimization Champion
                            {% elif entry.rank == 3 %}Performance Hero
                            {% endif %}
                        </td>
                        <td><span title="Efficiency Ratio: (Consensus Weight % √ó 100) √∑ Bandwidth GB/s - measures network authority per bandwidth contributed">{{ entry.efficiency_ratio }} CW/BW ratio</span>, {{ entry.total_consensus_weight_pct }} consensus weight</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </div>
</section>

<!-- ===================================================================== -->
<!-- COMPLETE RANKINGS (Full Leaderboards - All Categories Stacked) -->
<!-- ===================================================================== -->
<section id="rankings">
    <h2>üìä Complete Rankings</h2>
    <p class="lead">Full leaderboards with top 25 operators per category - All categories displayed for easy comparison and analysis</p>

    <!-- Category 1: Bandwidth Contributed -->
    <section id="bandwidth" class="aroi-section">
        <h3>üöÄ Bandwidth Contributed - Top 25</h3>
        {% if relays.json.aroi_leaderboards.leaderboards.bandwidth %}
        <div class="table-responsive">
            <table class="table table-striped table-condensed aroi-rankings-table aroi-standard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Operator (AROI)</th>
                        <th>Relays</th>
                        <th>Bandwidth</th>
                        <th>Consensus Weight</th>
                        <th>Guard/Exit Count</th>
                        <th>Countries</th>
                        <th>Platforms</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.bandwidth[:25] %}
                    <tr>
                        <td>
                            {% if entry.rank <= 3 %}
                                <span class="badge" style="background-color: {% if entry.rank == 1 %}#FFD700{% elif entry.rank == 2 %}#C0C0C0{% else %}#CD7F32{% endif %};">
                                    {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% else %}ü•â{% endif %} {{ entry.rank }}
                                </span>
                            {% else %}
                                <span class="badge badge-default">{{ entry.rank }}</span>
                            {% endif %}
                        </td>
                        <td>
                            <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline;">
                                {% if entry.aroi_domain and entry.aroi_domain != 'none' %}
                                    <strong>{{ entry.aroi_domain|escape }}</strong>
                                {% else %}
                                    <strong>{{ entry.operator_key|escape }}</strong>
                                {% endif %}
                            </a>
                        </td>
                        <td>
                            <span title="Total: {{ entry.total_relays }} | Measured: {{ entry.measured_count }}">
                                {{ entry.total_relays }}
                                {% if entry.measured_count > 0 %}
                                    <small class="text-muted">({{ entry.measured_count }} measured)</small>
                                {% endif %}
                            </span>
                        </td>
                        <td>
                            <span class="text-nowrap"><strong>{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</strong></span>
                        </td>
                        <td>
                            <span class="text-nowrap">{{ entry.total_consensus_weight_pct }}</span>
                        </td>
                        <td>
                            <span title="Guard: {{ entry.guard_count }} | Exit: {{ entry.exit_count }} | Middle: {{ entry.middle_count }}">
                                üõ°Ô∏è{{ entry.guard_count }} / üö™{{ entry.exit_count }}
                            </span>
                        </td>
                        <td>
                            <span title="Countries: {{ entry.countries|join(', ') }}">
                                {{ entry.country_count }}
                                {% if entry.countries|length > 0 %}
                                    <small class="text-muted">({{ entry.countries[:2]|join(', ') }}{% if entry.countries|length > 2 %}...{% endif %})</small>
                                {% endif %}
                            </span>
                        </td>
                        <td>
                            <span title="Platforms: {{ entry.platforms|join(', ') }}">
                                {{ entry.platform_count }}
                                {% if entry.non_linux_count > 0 %}
                                    <small class="text-success">({{ entry.non_linux_count }} non-Linux)</small>
                                {% endif %}
                            </span>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <div class="alert alert-warning">
            <p>No bandwidth data available.</p>
        </div>
        {% endif %}
    </section>

    <!-- Category 2: Network Authority Rankings -->
    <section id="consensus_weight" class="aroi-section">
        <h3>üèõÔ∏è Network Authority Rankings - Top 25</h3>
        {% if relays.json.aroi_leaderboards.leaderboards.consensus_weight %}
        <div class="table-responsive">
            <table class="table table-striped table-condensed aroi-rankings-table aroi-standard-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Operator (AROI)</th>
                        <th>Relays</th>
                        <th>Network Authority</th>
                        <th>Bandwidth</th>
                        <th>Guard/Exit Count</th>
                        <th>Countries</th>
                        <th>Efficiency</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.consensus_weight[:25] %}
                    <tr>
                        <td>
                            {% if entry.rank <= 3 %}
                                <span class="badge" style="background-color: {% if entry.rank == 1 %}#FFD700{% elif entry.rank == 2 %}#C0C0C0{% else %}#CD7F32{% endif %};">
                                    {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% else %}ü•â{% endif %} {{ entry.rank }}
                                </span>
                            {% else %}
                                <span class="badge badge-default">{{ entry.rank }}</span>
                            {% endif %}
                        </td>
                        <td>
                            <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline;">
                                {% if entry.aroi_domain and entry.aroi_domain != 'none' %}
                                    <strong>{{ entry.aroi_domain|escape }}</strong>
                                {% else %}
                                    <strong>{{ entry.operator_key|escape }}</strong>
                                {% endif %}
                            </a>
                        </td>
                        <td>{{ entry.total_relays }}</td>
                        <td>
                            <span class="text-nowrap"><strong>{{ entry.total_consensus_weight_pct }}</strong></span>
                        </td>
                        <td>
                            <span class="text-nowrap">{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</span>
                        </td>
                        <td>
                            <span title="Guard: {{ entry.guard_count }} | Exit: {{ entry.exit_count }}">
                                üõ°Ô∏è{{ entry.guard_count }} / üö™{{ entry.exit_count }}
                            </span>
                        </td>
                        <td>{{ entry.country_count }}</td>
                        <td><span title="Efficiency Ratio: (Consensus Weight % √ó 100) √∑ Bandwidth GB/s - measures network authority per bandwidth contributed">{{ entry.efficiency_ratio }}</span></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </section>

    <!-- Category 3: Exit Operators -->
    <section id="exit_operators" class="aroi-section">
        <h3>üö™ Exit Operators - Top 25</h3>
        {% if relays.json.aroi_leaderboards.leaderboards.exit_operators %}
        <div class="table-responsive">
            <table class="table table-striped table-condensed aroi-rankings-table aroi-specialized-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Operator (AROI)</th>
                        <th>Exit Relays</th>
                        <th>Total Relays</th>
                        <th>Bandwidth</th>
                        <th>Consensus Weight</th>
                        <th>Countries</th>
                        <th>Guard Count</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.exit_operators[:25] %}
                    <tr>
                        <td>
                            {% if entry.rank <= 3 %}
                                <span class="badge" style="background-color: {% if entry.rank == 1 %}#FFD700{% elif entry.rank == 2 %}#C0C0C0{% else %}#CD7F32{% endif %};">
                                    {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% else %}ü•â{% endif %} {{ entry.rank }}
                                </span>
                            {% else %}
                                <span class="badge badge-default">{{ entry.rank }}</span>
                            {% endif %}
                        </td>
                        <td>
                            {% if entry.aroi_domain and entry.aroi_domain != 'none' %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" title="Contact: {{ entry.contact_info|escape }}" style="text-decoration: underline;">
                                    <strong>{{ entry.aroi_domain|escape }}</strong>
                                </a>
                            {% else %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" style="text-decoration: underline;">
                                    <strong>{{ entry.operator_key|escape }}</strong>
                                </a>
                            {% endif %}
                        </td>
                        <td><strong>{{ entry.exit_count }}</strong></td>
                        <td>{{ entry.total_relays }}</td>
                        <td>{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                        <td>{{ entry.total_consensus_weight_pct }}</td>
                        <td>{{ entry.country_count }}</td>
                        <td>{{ entry.guard_count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </section>

    <!-- Category 4: Guard Operators -->
    <section id="guard_operators" class="aroi-section">
        <h3>üõ°Ô∏è Guard Operators - Top 25</h3>
        {% if relays.json.aroi_leaderboards.leaderboards.guard_operators %}
        <div class="table-responsive">
            <table class="table table-striped table-condensed aroi-rankings-table aroi-specialized-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Operator (AROI)</th>
                        <th>Guard Relays</th>
                        <th>Total Relays</th>
                        <th>Bandwidth</th>
                        <th>Consensus Weight</th>
                        <th>Countries</th>
                        <th>Exit Count</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in relays.json.aroi_leaderboards.leaderboards.guard_operators[:25] %}
                    <tr>
                        <td>
                            {% if entry.rank <= 3 %}
                                <span class="badge" style="background-color: {% if entry.rank == 1 %}#FFD700{% elif entry.rank == 2 %}#C0C0C0{% else %}#CD7F32{% endif %};">
                                    {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% else %}ü•â{% endif %} {{ entry.rank }}
                                </span>
                            {% else %}
                                <span class="badge badge-default">{{ entry.rank }}</span>
                            {% endif %}
                        </td>
                        <td>
                            {% if entry.aroi_domain and entry.aroi_domain != 'none' %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" style="text-decoration: underline;">
                                    <strong>{{ entry.aroi_domain|escape }}</strong>
                                </a>
                            {% else %}
                                <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" style="text-decoration: underline;">
                                    <strong>{{ entry.operator_key|escape }}</strong>
                                </a>
                            {% endif %}
                        </td>
                        <td><strong>{{ entry.guard_count }}</strong></td>
                        <td>{{ entry.total_relays }}</td>
                        <td>{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                        <td>{{ entry.total_consensus_weight_pct }}</td>
                        <td>{{ entry.country_count }}</td>
                        <td>{{ entry.exit_count }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endif %}
    </section>

    <!-- Continue with remaining categories... -->
    {% for category_key in ['most_diverse', 'platform_diversity', 'bsd_operators', 'non_eu_leaders', 'frontier_builders', 'network_veterans', 'efficiency_champions'] %}
        {% set category_name = relays.json.aroi_leaderboards.summary.categories[category_key] %}
        {% set category_data = relays.json.aroi_leaderboards.leaderboards[category_key] %}
        
        <section id="{{ category_key }}" class="aroi-section">
            <h3>
                {% if category_key == 'most_diverse' %}üåà{% elif category_key == 'platform_diversity' %}üíª{% elif category_key == 'bsd_operators' %}üîß{% elif category_key == 'non_eu_leaders' %}üåç{% elif category_key == 'frontier_builders' %}üè¥‚Äç‚ò†Ô∏è{% elif category_key == 'network_veterans' %}üèÜ{% elif category_key == 'efficiency_champions' %}‚ö°{% endif %}
            {% if category_data %}
            <div class="table-responsive">
                <table class="table table-striped table-condensed aroi-rankings-table aroi-category-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Operator (AROI)</th>
                            <th>Relays</th>
                            <th>Key Metric</th>
                            <th>Bandwidth</th>
                            <th>Countries</th>
                            <th>Platforms</th>
                            <th>Specialization</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for entry in category_data[:25] %}
                        <tr>
                            <td>
                                {% if entry.rank <= 3 %}
                                    <span class="badge" style="background-color: {% if entry.rank == 1 %}#FFD700{% elif entry.rank == 2 %}#C0C0C0{% else %}#CD7F32{% endif %};">
                                        {% if entry.rank == 1 %}ü•á{% elif entry.rank == 2 %}ü•à{% else %}ü•â{% endif %} {{ entry.rank }}
                                    </span>
                                {% else %}
                                    <span class="badge badge-default">{{ entry.rank }}</span>
                                {% endif %}
                            </td>
                            <td>
                                {% if entry.aroi_domain and entry.aroi_domain != 'none' %}
                                    <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" style="text-decoration: underline;">
                                        <strong>{{ entry.aroi_domain|escape }}</strong>
                                    </a>
                                {% else %}
                                    <a href="{{ page_ctx.path_prefix }}contact/{{ entry.contact_hash }}/" style="text-decoration: underline;">
                                        <strong>{{ entry.operator_key|escape }}</strong>
                                    </a>
                                {% endif %}
                            </td>
                            <td>{{ entry.total_relays }}</td>
                            <td>
                                <strong>
                                {% if category_key == 'most_diverse' %}<span title="Diversity Score: Geographic (countries √ó 2.0) + Platform (OS types √ó 1.5) + Network (unique ASNs √ó 1.0)">{{ entry.diversity_score }}</span>
                                {% elif category_key == 'platform_diversity' %}{{ entry.non_linux_count }} non-Linux
                                {% elif category_key == 'bsd_operators' %}{{ entry.bsd_count }} BSD
                                {% elif category_key == 'non_eu_leaders' %}{{ entry.non_eu_count }} non-EU
                                {% elif category_key == 'frontier_builders' %}{{ entry.rare_country_count }} rare
                                {% elif category_key == 'network_veterans' %}{{ entry.uptime_percentage }}
                                {% elif category_key == 'efficiency_champions' %}<span title="Efficiency Ratio: (Consensus Weight % √ó 100) √∑ Bandwidth GB/s - measures network authority per bandwidth contributed">{{ entry.efficiency_ratio }}</span>
                                {% endif %}
                                </strong>
                            </td>
                            <td>{{ entry.total_bandwidth }} {{ entry.bandwidth_unit }}</td>
                            <td>{{ entry.country_count }}</td>
                            <td>{{ entry.platform_count }}</td>
                            <td>
                                {% if category_key == 'most_diverse' %}Geographic diversity
                                {% elif category_key == 'platform_diversity' %}OS diversity
                                {% elif category_key == 'bsd_operators' %}BSD expertise
                                {% elif category_key == 'non_eu_leaders' %}Global expansion
                                {% elif category_key == 'frontier_builders' %}Frontier presence
                                {% elif category_key == 'network_veterans' %}High reliability
                                {% elif category_key == 'efficiency_champions' %}Optimal efficiency
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="alert alert-warning">
                <p>No data available for {{ category_name }}.</p>
            </div>
            {% endif %}
        </section>
    {% endfor %}
</section>

<!-- Floating Back to Top Button -->
<a href="#champions" class="btn btn-primary" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    ‚Üë Back to Top
</a>

<!-- Additional Information -->
<section style="margin-top: 50px; border-top: 2px solid #ccc; padding-top: 30px;">
    <h3>üìñ About AROI Leaderboards</h3>
    <div class="well">
        <p><strong>AROI (Authenticated Relay Operator Identifier)</strong> represents operators who provide contact information following the <a href="https://nusenu.github.io/ContactInfo-Information-Sharing-Specification/" target="_blank">ContactInfo Information Sharing Specification</a>.</p>
        
        <h4>Leaderboard Categories:</h4>
        <div class="row">
            <div class="col-md-6">
                <ul>
                    <li><strong>üöÄ Bandwidth Contributed:</strong> Total observed bandwidth across all relays</li>
                    <li><strong>‚öñÔ∏è Consensus Weight:</strong> Total consensus weight percentage in the network</li>
                    <li><strong>üö™ Exit Operators:</strong> Number of exit relays operated</li>
                    <li><strong>üõ°Ô∏è Guard Operators:</strong> Number of guard relays operated</li>
                    <li><strong>üåà Most Diverse:</strong> Geographic, platform, and network diversity score</li>
                    <li><strong>üíª Platform Diversity:</strong> Non-Linux relay operators promoting OS diversity</li>
                </ul>
            </div>
            <div class="col-md-6">
                <ul>
                    <li><strong>üîß BSD Masters:</strong> Technical leaders running BSD-based relays</li>
                    <li><strong>üåç Non-EU Leaders:</strong> Geographic champions expanding Tor outside the EU</li>
                    <li><strong>üè¥‚Äç‚ò†Ô∏è Frontier Builders:</strong> Operators in rare or underrepresented countries</li>
                    <li><strong>üèÜ Network Veterans:</strong> Most reliable operators with highest uptime</li>
                    <li><strong>‚ö° Efficiency Champions:</strong> Best consensus weight to bandwidth ratio</li>
                </ul>
            </div>
        </div>
        
        <h4>üåà Diversity Champion Scoring:</h4>
        <p><strong>Diversity Score Calculation:</strong> The diversity score uses a weighted formula to measure geographic, platform, and network diversity:</p>
        <ul>
            <li><strong>Geographic Component:</strong> Number of countries √ó 2.0 (highest weight for global presence)</li>
            <li><strong>Platform Component:</strong> Number of operating systems √ó 1.5 (promotes OS diversity beyond Linux)</li>
            <li><strong>Network Component:</strong> Number of unique ASNs √ó 1.0 (prevents concentration on single networks)</li>
        </ul>
        <p><em>Example:</em> An operator with relays in 5 countries, 3 operating systems, and 8 unique ASNs would score: (5 √ó 2.0) + (3 √ó 1.5) + (8 √ó 1.0) = 10.0 + 4.5 + 8.0 = <strong>22.5 diversity points</strong>.</p>
        
        <h4>‚ö° Efficiency Champion Scoring:</h4>
        <p><strong>Efficiency Ratio Calculation:</strong> The efficiency ratio measures network authority per bandwidth contributed using the formula:</p>
        <ul>
            <li><strong>Formula:</strong> (Consensus Weight % √ó 100) √∑ Bandwidth in GB/s</li>
            <li><strong>Purpose:</strong> Identifies operators who achieve high network influence with optimal bandwidth usage</li>
            <li><strong>Interpretation:</strong> Higher ratios indicate more efficient relay operations and better network positioning</li>
        </ul>
        <p><em>Example:</em> An operator with 2.5% consensus weight and 1.0 GB/s bandwidth would score: (2.5 √ó 100) √∑ 1.0 = <strong>250.0x efficiency ratio</strong>.</p>
        
        <p><strong>Data Sources:</strong> Live data from the Tor directory authorities via the Onionoo API, updated every 30 minutes. Rankings reflect current network status and operator contributions.</p>
    </div>
</section>

{% endblock -%} 