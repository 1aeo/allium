{% extends "relay-list.html" %}
{% set as_number = relays.json['relay_subset'][0]['as']|escape %}
{% set as_name = relays.json['relay_subset'][0]['as_name']|escape %}
{% block title %}Tor Relays :: {{ as_name }} ({{ as_number }}){% endblock %}
{% block header %}<a href="../../">Home</a> :: {{ as_name }} ({{ as_number }}){% endblock %}
{% block description %}{{ as_number }} is responsible for ~{{ bandwidth }} {{ bandwidth_unit }}
of traffic
{%- if guard_count > 0 or middle_count > 0 or exit_count > 0 %} (
    {%- if guard_count > 0 -%}
        {{ guard_bandwidth }} {{ bandwidth_unit }} guard
        {%- if middle_count > 0 or exit_count > 0 %}, {% endif -%}
    {%- endif -%}
    {%- if middle_count > 0 -%}
        {{ middle_bandwidth }} {{ bandwidth_unit }} middle
        {%- if exit_count > 0 %}, {% endif -%}
    {%- endif -%}
    {%- if exit_count > 0 -%}
        {{ exit_bandwidth }} {{ bandwidth_unit }} exit
    {%- endif -%}
)
{%- endif %}, with
{% if guard_count > 0 %}
    {{ guard_count }} guard relay
    {%- if guard_count > 1 -%}s{% endif %}
    {% if middle_count > 0 or exit_count > 0 %},{% endif %}
{% endif %}
{% if middle_count > 0 %}
    {{ middle_count }} middle relay
    {%- if middle_count > 1 -%}s{% endif %}
    {% if exit_count > 0 %}
        and
    {% endif %}
{% endif %}
{% if exit_count > 0 %}
    {{ exit_count }} exit relay
    {%- if exit_count > 1 -%}s{%- endif -%}
{%- endif -%}
.{% endblock %}
